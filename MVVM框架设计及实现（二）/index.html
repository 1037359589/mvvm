<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>MVVM学习之旅</title>
    <script src="jQuery.js"></script>
    <script src="Observer.js"></script>
    <script src="Core.js"></script>
    <script src="Collection.js"></script>
</head>
<body>

<div id='box' ao-controller="box">
    <div id='aa-attr' style="background: #a9ea00;width:100px;height:100px;" ao-css-width="w" ao-click='click' ></div>
    <p id='aa-text'>{{ w }}</p>
</div>

<script type="text/javascript">

    var mm = MVVM.define("box", function(vm) {
        vm.array = ["1", "2", "3", "4"]
        vm.del = function() {
            this.$vmodel.$remove()
        }
        "push,unshift,remove,ensure".replace(/\w+/g, function(method) {
            vm[method] = function(e) {
                if (this.value && e.which == 13) { //this为input元素
                    vm.array[method](this.value);
                    this.value = "";
                }
            }
        })

        vm.removeAt = function(e) {
            if (isFinite(this.value) && e.which == 13) { //this为input元素
                var a = ~~this.value
                vm.array.removeAt(a)
                this.value = "";
            }
        }
        "pop,shift,sort,reverse".replace(/\w+/g, function(method) {
            vm[method] = function(e) {
                vm.array[method]();
            }
        })
    })


    // //节点扫描,执行绑定
  //  MVVM.scanTag();

    setTimeout(function(){
        // console.log(mm)
    },100)


</script>
</body>
</html>